---
layout: post
title: MongoDB와 로그스태시
summary: 열심히 기록하자!
author: Lee Chang Ho
date: '2021-06-13 22:50:00'
category: 프로젝트
published: true
image:  mongo/logo.png
tags:   MongoDB Logstash
---

## MongoDB의 데이터를 Logstash로 가져오기
###### 현재 진행중인 프로젝트에서 MongoDB의 데이터를 가져와 ElasticSearch에 색인을 해야 한다.
###### 기존의 MySQL의 경우 JDBC Plugin을 통해 색인을 진행하였지만 MongoDB의 경우 ElasticSearch에서 지원하는 공식 Input Plugin이 없다고 한다.  
###### MongoDB의 데이터를 Logstash로 가져오기 위해서는 아래 2가지 방법이 존재하는 듯 한다.
- logstash-input-mongodb
- Jdbc(MongoDB jar)
###### 위의 두가지 방법 중 첫번째 방법인 logstash-input-mongodb를 설치하여 진행을 해 보자

---
#### logstash-input-mongodb Install
--- 
###### 해당 플러그인의 경우 공식 플러그인이 아닌 뛰어난 능력자가 만들어 놓은 플러그인이다. 그래서 Logstash의 기본 플러그인에 설치가 되어 있지 않기 때문에 따로 설치를 진행하여야 한다.  
###### 아래 명령어를 이용하여 설치를 진행한다.
- logstash-plugin.bat install logstash-input-mongodb
- logstash-plugin.bat install logstash-output-mongodb
![이미지]({{ site.url }}/images/mongo/Plugin설치.png)
###### 방금 설치한 플러그인은 input과 output 모두를 설치하였다. (output은 필요없지만)

---
#### logstash 셋팅
--- 


<!--stackedit_data:
eyJoaXN0b3J5IjpbLTY5NDgxNTQ1NSwxMjIwMzM4MjYyXX0=
-->